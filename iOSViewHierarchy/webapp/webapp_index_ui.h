//
//  webapp_index_ui.h
//  iOSHierarchyViewer
//
//
// THIS FILE IS GENERATED AUTOMATICALLY BY XCODE's script
//
//

#ifndef iOSHierarchyViewer_webapp_index_ui 
#define iOSHierarchyViewer_webapp_index_ui 

#define WEBAPP_INDEX_UI @"PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD1VVEYtOCIvPiAKICA8dGl0bGU+aU9TIEhpZXJhcmNoeSBWaWV3ZXI8L3RpdGxlPgogIDxsaW5rIGhyZWY9InN0eWxlLmNzcyIgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyI+CiAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ianF1ZXJ5LmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJqcXVlcnkuamVkaXRhYmxlLmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJuYXZiYXIuanMiPjwvc2NyaXB0PgogIDxzY3JpcHQ+CiAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgJCgnLmVkaXQnKS5lZGl0YWJsZSgnaHR0cDovL3d3dy5leGFtcGxlLmNvbS9zYXZlLnBocCcpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCcuZWRpdCcpLmVkaXRhYmxlKGZ1bmN0aW9uKHZhbHVlLCBzZXR0aW5ncykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2YWx1ZScgKyB2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2V0dGluZ3MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJUZXh0ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuKHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSAgICA6ICd0ZXh0YXJlYScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0ICA6ICdPSycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogIDwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5PjwvYm9keT4KPHNjcmlwdD4KCWZ1bmN0aW9uIFNjcmVlbihvcHRpb25zKSB7CgkJdmFyIG8gPSBvcHRpb25zOwoKCQl2YXIgY3JlYXRlU2NyZWVuTm9kZSA9IGZ1bmN0aW9uKHZpZXdNZXRhLCB2aWV3UGFyZW50TWV0YSkgewoJCQl2YXIgdmlld05vZGUgPSAkKCc8ZGl2IGNsYXNzPSJzY3JlZW5fbm9kZSIgZGF0YV9pZD0iJyArIHZpZXdNZXRhLmlkICsgJyI+PC9kaXY+Jyk7CgkJCXZhciBsZWZ0T2Zmc2V0ID0gdmlld1BhcmVudE1ldGEgPyB2aWV3UGFyZW50TWV0YS5sYXllcl9ib3VuZHNfeCA6IDA7CgkJCXZhciB0b3BPZmZzZXQgPSB2aWV3UGFyZW50TWV0YSA/IHZpZXdQYXJlbnRNZXRhLmxheWVyX2JvdW5kc195IDogMDsKCQkJdmlld05vZGUuY3NzKCdsZWZ0JyAgLCAoIHZpZXdNZXRhLmxheWVyX3Bvc2l0aW9uX3ggLSB2aWV3TWV0YS5sYXllcl9ib3VuZHNfdyAqIHZpZXdNZXRhLmxheWVyX2FuY2hvcl94IC0gbGVmdE9mZnNldCAtMSAgKSArICdweCcpOwoJCQl2aWV3Tm9kZS5jc3MoJ3RvcCcJICwgKCB2aWV3TWV0YS5sYXllcl9wb3NpdGlvbl95IC0gdmlld01ldGEubGF5ZXJfYm91bmRzX2ggKiB2aWV3TWV0YS5sYXllcl9hbmNob3JfeSAtIHRvcE9mZnNldCAgLTEgICkgKyAncHgnKTsKCQkJdmlld05vZGUuY3NzKCd3aWR0aCcgLCAoIHZpZXdNZXRhLmxheWVyX2JvdW5kc193IC0gMiApICsgJ3B4Jyk7CgkJCXZpZXdOb2RlLmNzcygnaGVpZ2h0JywgKCB2aWV3TWV0YS5sYXllcl9ib3VuZHNfaCAtIDIgKSArICdweCcpOwoJCQl2aWV3Tm9kZS5jc3MoJy13ZWJraXQtb3JpZ2luJywgKCB2aWV3TWV0YS5sYXllcl9hbmNob3JfeCAqIDEwICkgKyAnJScsICggdmlld01ldGEubGF5ZXJfYW5jaG9yX3kgKiAxMCApICsgJyUnKTsKCQkJdmlld05vZGUuY3NzKCctd2Via2l0LXRyYW5zZm9ybScsICdtYXRyaXgzZCgnICsgdmlld01ldGEubGF5ZXJfdHJhbnNmb3JtICsgJyknKTsKCQkJaWYgKCB2aWV3TWV0YS5wcmV2aWV3ICkgewoJCQkJdmlld05vZGUuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgInVybCgnIiArIHZpZXdNZXRhLnByZXZpZXcgKyAiJykiKTsKCQkJCXZpZXdOb2RlLmNzcygnYmFja2dyb3VuZC1vcmlnaW4nLCAnYm9yZGVyLWJveCcpOwoJCQl9CgkJCXJldHVybiB2aWV3Tm9kZTsKCQl9CgoJCXZhciBtYWluTm9kZVZpZXcgPSBjcmVhdGVTY3JlZW5Ob2RlKG8pOwoJCS8vbWFpbk5vZGVWaWV3LmNzcygnYmFja2dyb3VuZC1pbWFnZScsInVybCgnL3ByZXZpZXc/bm9jYWNoZT0iICsgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSArICInKSIpOwoJCW1haW5Ob2RlVmlldy5hZGRDbGFzcygnc2NyZWVuX3Jvb3Rfbm9kZScpOwoKCQl2YXIgdmlld3BvcnRTY2FsZSA9IDEsIHZpZXdwb3J0VHJhbnNsYXRlWCA9IDAsIHZpZXdwb3J0VHJhbnNsYXRlWSA9IDAsIHZpZXdwb3J0Um90YXRpb24gPSAwOwoKCQlmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7CgkJCXZhciB0cmFuc2Zvcm1WYWx1ZSA9ICd0cmFuc2xhdGUoJyArIHZpZXdwb3J0VHJhbnNsYXRlWCAgKyAncHgsJyArIHZpZXdwb3J0VHJhbnNsYXRlWSArICdweCkgcm90YXRlKCcgKyB2aWV3cG9ydFJvdGF0aW9uICsgJ2RlZykgc2NhbGUoJyArIHZpZXdwb3J0U2NhbGUgKyAnKSc7CgkJCW1haW5Ob2RlVmlldy5jc3MoJy13ZWJraXQtdHJhbnNmb3JtJywgdHJhbnNmb3JtVmFsdWUpOwoJCQltYWluTm9kZVZpZXcuY3NzKCctbW96LXRyYW5zZm9ybScsIHRyYW5zZm9ybVZhbHVlKTsKCQl9CgoJCXZhciB6b29tSW5Eb20gPSAkKCc8ZGl2IGNsYXNzPSJzY3JlZW5fem9vbV9pbiBzY3JlZW5fem9vbSIgdGl0bGU9Inpvb20gaW4iPis8L2Rpdj4nKTsKCQl2YXIgem9vbU91dERvbSA9ICQoJzxkaXYgY2xhc3M9InNjcmVlbl96b29tX291dCBzY3JlZW5fem9vbSIgdGl0bGU9Inpvb20gb3V0Ij4tPC9kaXY+Jyk7CgkJdmFyIHJvdExlZnREb20gPSAkKCc8ZGl2IGNsYXNzPSJzY3JlZW5fcm90X2xlZnQgc2NyZWVuX3pvb20iIHRpdGxlPSJyb3RhdGUgbGVmdCI+4oa6PC9kaXY+Jyk7CgkJdmFyIHJvdFJpZ2h0RG9tID0gJCgnPGRpdiBjbGFzcz0ic2NyZWVuX3JvdF9yaWdodCBzY3JlZW5fem9vbSIgdGl0bGU9InJvdGF0ZSByaWdodCI+4oa7PC9kaXY+Jyk7CgoJCXpvb21JbkRvbS5jbGljayhmdW5jdGlvbigpIHsgdmlld3BvcnRTY2FsZSArPSAwLjE7IHVwZGF0ZVRyYW5zZm9ybSgpOyB9KTsKCQl6b29tT3V0RG9tLmNsaWNrKGZ1bmN0aW9uKCkgeyB2aWV3cG9ydFNjYWxlIC09IDAuMTsgdXBkYXRlVHJhbnNmb3JtKCk7IH0pOwoJCXJvdExlZnREb20uY2xpY2soZnVuY3Rpb24oKSB7IHZpZXdwb3J0Um90YXRpb24gLT0gOTAuMDsgdXBkYXRlVHJhbnNmb3JtKCk7IH0gKTsKCQlyb3RSaWdodERvbS5jbGljayhmdW5jdGlvbigpIHsgdmlld3BvcnRSb3RhdGlvbiArPSA5MDsgdXBkYXRlVHJhbnNmb3JtKCk7IH0gKTsKCgkJby5wYXJlbnREb20uYXBwZW5kKHpvb21JbkRvbSk7CgkJby5wYXJlbnREb20uYXBwZW5kKHpvb21PdXREb20pOwoJCW8ucGFyZW50RG9tLmFwcGVuZChyb3RMZWZ0RG9tKTsKCQlvLnBhcmVudERvbS5hcHBlbmQocm90UmlnaHREb20pOwoKCQl2YXIgY2xlYXJGdW5jID0gZnVuY3Rpb24oKSB7CgkJCW1haW5Ob2RlVmlldy5lbXB0eSgpOwoJCX0KCgkJdmFyIGZpbGxSZWN1cnNpdmUgPSBmdW5jdGlvbihwYXJlbnQsIHZpZXdzLCBwYXJlbnRWaWV3KSB7CgkJCSQuZWFjaCh2aWV3cywgZnVuY3Rpb24oaW5kZXgsIHYpIHsKCQkJCXZhciB2aWV3Tm9kZSA9IGNyZWF0ZVNjcmVlbk5vZGUodiwgcGFyZW50Vmlldyk7CgkJCQlmaWxsUmVjdXJzaXZlKHZpZXdOb2RlLCB2LnZpZXdzLCB2KTsKCQkJCXBhcmVudC5hcHBlbmQodmlld05vZGUpOwoJCQl9KTsKCQl9CgoJCXZhciBmaWxsRnVuYyA9IGZ1bmN0aW9uKHZpZXdzKSB7CgkJCWZpbGxSZWN1cnNpdmUobWFpbk5vZGVWaWV3LCB2aWV3cyk7CgkJCXZhciBkb3duWCA9IDAsIGRvd25ZID0gMDsKCQkJdmFyIGxhc3RYLCBsYXN0WTsKCQkJdmFyIHZpZXdJZCA9IDA7CgoJCQl2YXIgaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24oZWUpIHsKCQkJCXZpZXdwb3J0VHJhbnNsYXRlWCArPSAtKGxhc3RYIC0gZWUucGFnZVgpOwoJCQkJdmlld3BvcnRUcmFuc2xhdGVZICs9IC0obGFzdFkgLSBlZS5wYWdlWSk7CgkJCQlsYXN0WCA9IGVlLnBhZ2VYOwoJCQkJbGFzdFkgPSBlZS5wYWdlWTsKCQkJCXVwZGF0ZVRyYW5zZm9ybSgpOwoJCQl9OwoKCQkJdmFyIGhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbihlKSB7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJaWYgKCBNYXRoLmFicyhkb3duWC1lLnBhZ2VYKSA8IDEwICYmIE1hdGguYWJzKGRvd25ZLWUucGFnZVkpIDwgMTAgKSB7CgkJCQkJaWYgKCBvLm9uU2VsZWN0ZWQgKSBvLm9uU2VsZWN0ZWQodmlld0lkKTsKCQkJCX0KCQkJCSQod2luZG93KS51bmJpbmQoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTsKCQkJCSQod2luZG93KS51bmJpbmQoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7CgkJCX07CgoJCQltYWluTm9kZVZpZXcuZmluZCgnLnNjcmVlbl9ub2RlJykubW91c2Vkb3duKGZ1bmN0aW9uKGUpIHsKCQkJCXZpZXdJZCA9IHBhcnNlSW50KCQodGhpcykuYXR0cignZGF0YV9pZCcpKTsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQlkb3duWCA9IGUucGFnZVg7CgkJCQlkb3duWSA9IGUucGFnZVk7CgkJCQlsYXN0WCA9IGUucGFnZVg7CgkJCQlsYXN0WSA9IGUucGFnZVk7CgkJCQkkKHdpbmRvdykuYmluZCgnbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTsKCQkJCSQod2luZG93KS5iaW5kKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7CgkJCX0pOwoJCX0KCgkJdmFyIHNpemVGdW5jID0gZnVuY3Rpb24odmlldykgewoJCQltYWluTm9kZVZpZXcuY3NzKCdsZWZ0JywgJzUwJScpOwoJCQltYWluTm9kZVZpZXcuY3NzKCd0b3AnLCAnNTAlJyk7CgkJCW1haW5Ob2RlVmlldy5jc3MoJ21hcmdpbi1sZWZ0JywgJy0nICsgdmlldy5ib3VuZHNfdy8yICsgJ3B4Jyk7CgkJCW1haW5Ob2RlVmlldy5jc3MoJ21hcmdpbi10b3AnICwgJy0nICsgdmlldy5ib3VuZHNfaC8yICsgJ3B4Jyk7CgkJCW1haW5Ob2RlVmlldy5jc3MoJ3dpZHRoJywgKHZpZXcuYm91bmRzX3ctMikgKyAncHgnKTsKCQkJbWFpbk5vZGVWaWV3LmNzcygnaGVpZ2h0Jywodmlldy5ib3VuZHNfaC0yKSArICdweCcpOwoJCX0KCgkJdmFyIGZvY3VzRnVuYyA9IGZ1bmN0aW9uKHZpZXdJZCkgewoJCQltYWluTm9kZVZpZXcuZmluZCgnLnNjcmVlbl9ub2RlW2RhdGFfaWQ9JyArIHZpZXdJZCArICddJykuYWRkQ2xhc3MoJ3NjcmVlbl9ub2RlX2ZvY3VzZWQnKTsKCQl9CgoJCXZhciBibHVyRnVuYyA9IGZ1bmN0aW9uKHZpZXdJZCkgewoJCQltYWluTm9kZVZpZXcuZmluZCgnLnNjcmVlbl9ub2RlW2RhdGFfaWQ9JyArIHZpZXdJZCArICddJykucmVtb3ZlQ2xhc3MoJ3NjcmVlbl9ub2RlX2ZvY3VzZWQnKTsKCQl9CgoJCXZhciBzaG93RGVidWdGcmFtZXNGdW5jID0gZnVuY3Rpb24oKSB7CgkJCSQoJy5zY3JlZW5fbm9kZScpLmFkZENsYXNzKCdzY3JlZW5fbm9kZV9kZWJ1ZycpOwoJCX0KCgkJdmFyIGhpZGVEZWJ1Z0ZyYW1lc0Z1bmMgPSBmdW5jdGlvbigpIHsKCQkJJCgnLnNjcmVlbl9ub2RlJykucmVtb3ZlQ2xhc3MoJ3NjcmVlbl9ub2RlX2RlYnVnJyk7CgkJfQoKCQl2YXIgc2hvd0Z1bmMgPSBmdW5jdGlvbigpIHsgby5wYXJlbnREb20uc2hvdygpOyB9CgkJdmFyIGhpZGVGdW5jID0gZnVuY3Rpb24oKSB7IG8ucGFyZW50RG9tLmhpZGUoKTsgfQoKCQlvLnBhcmVudERvbS5hcHBlbmQobWFpbk5vZGVWaWV3KTsKCgkJcmV0dXJuIHsKCQkJY2xlYXI6IGNsZWFyRnVuYywKCQkJZmlsbDogZmlsbEZ1bmMsCgkJCXNpemU6IHNpemVGdW5jLAoJCQlmb2N1czogZm9jdXNGdW5jLAoJCQlibHVyOiBibHVyRnVuYywKCQkJc2hvd0RlYnVnRnJhbWVzOiBzaG93RGVidWdGcmFtZXNGdW5jLAoJCQloaWRlRGVidWdGcmFtZXM6IGhpZGVEZWJ1Z0ZyYW1lc0Z1bmMsCgkJCXNob3c6IHNob3dGdW5jLAoJCQloaWRlOiBoaWRlRnVuYwoJCX0KCX0KPC9zY3JpcHQ+CjxzY3JpcHQ+CgoJZnVuY3Rpb24gVmlld3NUcmVlKG9wdGlvbnMpIHsKCQl2YXIgbyA9IG9wdGlvbnM7CgkJdmFyIG5vZGVzUGFyZW50ID0gJCgnPGRpdiBjbGFzcz0idHJlZV9wYXJlbnQiPjwvZGl2PicpOwoKCQlmdW5jdGlvbiBidWlsZFZpZXdGdW5jKHZpZXcpIHsKCQkJdmFyIGlzT3BlbmFibGUgPSB2aWV3LnZpZXdzICYmIHZpZXcudmlld3MubGVuZ3RoID4gMDsKCSAgICAgICAgdmFyIG5ld0xpc3QgPSAkKCc8dWwgY2xhc3M9InRyZWVfbm9kZSIgZGF0YV9pZD0iJyArIHZpZXcuaWQgKyAnIj48L3VsJyk7CgkgICAgICAgIG5ld0xpc3QuYXBwZW5kKCc8ZGl2IGNsYXNzPSJ0cmVlX25vZGVfbmFtZSIgb3BlbmVkPSIwIiBkYXRhX2lkPSInICsgdmlldy5pZCArICciIGNhbl9leHBhbmQ9IicgKyAoaXNPcGVuYWJsZT8nMSc6JzAnKSArICciPicgKyAoaXNPcGVuYWJsZT8n4peLJzonwrcnKSArICB2aWV3WydjbGFzcyddICsgJzwvZGl2PicpOwoKCSAgICAgICAgaWYgKCB2aWV3LnZpZXdzICkgJC5lYWNoKHZpZXcudmlld3MsIGZ1bmN0aW9uKGluZGV4LCBkYXRhKSB7CgkgICAgICAgICAgICAgICB2YXIgbmV3RWxlbWVudCA9ICQoJzxsaSBjbGFzcz0idHJlZV9jaGlsZCI+PC9saT4nKTsKCSAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuYXBwZW5kKGJ1aWxkVmlld0Z1bmMoZGF0YSkpOwoJICAgICAgICAgICAgICAgbmV3TGlzdC5hcHBlbmQobmV3RWxlbWVudCk7CgkgICAgICAgIH0pOwoJICAgICAgICByZXR1cm4gbmV3TGlzdDsKCSAgICB9CgoJICAgIHZhciBmaWxsRnVuYyA9IGZ1bmN0aW9uKHZpZXdzKSB7CgkgICAgCSQuZWFjaCh2aWV3cywgZnVuY3Rpb24oaW5kZXgsIHZpZXcpIHsKICAgICAgICAgICAgCW5vZGVzUGFyZW50LmFwcGVuZChidWlsZFZpZXdGdW5jKHZpZXcpKTsKICAgICAgICAJfSk7CiAgICAgICAgCW5vZGVzUGFyZW50LmZpbmQoJy50cmVlX25vZGVfbmFtZScpLmhvdmVyKGZ1bmN0aW9uKCkgewogICAgICAgIAkJdmFyIHZpZXdJZCA9IHBhcnNlSW50KCQodGhpcykuYXR0cignZGF0YV9pZCcpKTsKICAgICAgICAJCWlmICggby5vbkhvdmVySW5DYWxsYmFjayApIG8ub25Ib3ZlckluQ2FsbGJhY2sodmlld0lkKTsKICAgICAgICAJfSwgZnVuY3Rpb24oKSB7CiAgICAgICAgCQl2YXIgdmlld0lkID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdkYXRhX2lkJykpOwogICAgICAgIAkJaWYgKCBvLm9uSG92ZXJPdXRDYWxsYmFjayApIG8ub25Ib3Zlck91dENhbGxiYWNrKHZpZXdJZCk7CiAgICAgICAgCX0pLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW4gZmlsbEZ1bmMgY2xpY2snKTsKICAgICAgICAJCXZhciB0YXJnZXQgPSAkKHRoaXMpOwogICAgICAgIAkJdmFyIHZpZXdJZCA9IHBhcnNlSW50KHRhcmdldC5hdHRyKCdkYXRhX2lkJykpOwogICAgICAgIAkJaWYgKCBvLm9uQ2xpY2tDYWxsYmFjayApIG8ub25DbGlja0NhbGxiYWNrKHZpZXdJZCk7CiAgICAgICAgCQkkKCcudHJlZV9ub2RlX25hbWVfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygndHJlZV9ub2RlX25hbWVfc2VsZWN0ZWQnKTsKICAgICAgICAJCXRhcmdldC5hZGRDbGFzcygndHJlZV9ub2RlX25hbWVfc2VsZWN0ZWQnKTsKICAgICAgICAJCWlmICggdGFyZ2V0LmF0dHIoJ2Nhbl9leHBhbmQnKSA9PSAnMScgKSB7CgkgICAgICAgIAkJaWYgKCB0YXJnZXQuYXR0cignb3BlbmVkJykgPT0gJzEnICkgewoJICAgICAgICAJCQl0YXJnZXQuYXR0cignb3BlbmVkJywgJzAnKTsKCSAgICAgICAgCQkJdGFyZ2V0LnBhcmVudCgpLmNoaWxkcmVuKCcudHJlZV9jaGlsZCcpLmhpZGUoKTsKCSAgICAgICAgCQl9IGVsc2UgewoJICAgICAgICAJCQl0YXJnZXQuYXR0cignb3BlbmVkJywgJzEnKTsKCSAgICAgICAgCQkJdGFyZ2V0LnBhcmVudCgpLmNoaWxkcmVuKCcudHJlZV9jaGlsZCcpLnNob3coKTsKCSAgICAgICAgCQl9CiAgICAgICAgCQl9CiAgICAgICAgCX0pOwoJICAgIH0KCgkgICAgdmFyIGV4cGFuZEZ1bmMgPSBmdW5jdGlvbihpZCkgewoJICAgIAkkKCcudHJlZV9ub2RlX25hbWVfc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygndHJlZV9ub2RlX25hbWVfc2VsZWN0ZWQnKTsKCSAgICAJJCgnLnRyZWVfbm9kZV9uYW1lW2RhdGFfaWQ9JyArIGlkICsgJ10nKS5hZGRDbGFzcygndHJlZV9ub2RlX25hbWVfc2VsZWN0ZWQnKTsKCSAgICAJdmFyIHZpZXcgPSAkKCcudHJlZV9ub2RlW2RhdGFfaWQ9JyArIGlkICsgJ10nKQoJICAgIAlpZiAoIHZpZXcgKSB7CgkgICAgCQl2YXIgcGFyZW50cyA9IHZpZXcucGFyZW50cygnLnRyZWVfY2hpbGQnKTsKCSAgICAJCXBhcmVudHMuc2hvdygpOwoJICAgIAkJcGFyZW50cy5wYXJlbnRzKCkuY2hpbGRyZW4oJy50cmVlX2NoaWxkJykuc2hvdygpOwoJICAgIAl9CgkgICAgCWNvbnNvbGUubG9nKHZpZXcpOwoJICAgIH0KCgkgICAgdmFyIGNsZWFyRnVuYyA9IGZ1bmN0aW9uKCkgeyBub2Rlc1BhcmVudC5lbXB0eSgpOyB9CgkJdmFyIHNob3dGdW5jID0gZnVuY3Rpb24oKSB7IG5vZGVzUGFyZW50LnNob3coKTsgfQoJCXZhciBoaWRlRnVuYyA9IGZ1bmN0aW9uKCkgeyBub2Rlc1BhcmVudC5oaWRlKCk7IH0KCgkgICAgby5wYXJlbnREb20uYXBwZW5kKG5vZGVzUGFyZW50KTsKCgkJcmV0dXJuIHsKCQkJZmlsbDogZmlsbEZ1bmMsCgkJCWNsZWFyOiBjbGVhckZ1bmMsCgkJCXNob3c6IHNob3dGdW5jLAoJCQloaWRlOiBoaWRlRnVuYywKCQkJZXhwYW5kOiBleHBhbmRGdW5jLAoJCQl3cmFwcGVyOiBub2Rlc1BhcmVudAoJCX0KCX0KPC9zY3JpcHQ+CjxzY3JpcHQ+CiAgICAgICAgICAgICAgICAgICAgICAgIAoJZnVuY3Rpb24gUHJvcHNFZGl0b3Iob3B0aW9ucykgewoJCXZhciBvID0gb3B0aW9uczsKCQl2YXIgZG9tID0gJCgnPGRpdiBjbGFzcz0iZWRpdG9yX3BhcmVudCI+PC9kaXY+Jyk7CgoJCXZhciBidWlsZFByb3BSb3cgPSBmdW5jdGlvbih2aWV3SWQsIHByb3AsIGVkaXRhYmxlQXJyYXkpIHsKCQkJdmFyIHJvd1BhcmVudCA9ICQoJzxkaXYgY2xhc3M9ImVkaXRvcl9yb3dfcGFyZW50Ij48L2Rpdj4nKTsKCQkJdmFyIG5hbWUgPSAkKCc8ZGl2IGNsYXNzPSJlZGl0b3Jfcm93X25hbWUgc2VsZWN0YWJsZV90ZXh0Ij4nICsgcHJvcC5uYW1lICsgJzwvZGl2PicpOwoJCQl2YXIgdmFsdWUgPSAkKCc8ZGl2IHR5cGU9InRleHQiIGNsYXNzPSJlZGl0Ij48L2Rpdj4nKTsKICAgICAgICAgICAgLy92YWx1ZS5hdHRyKCd2YWx1ZScsIChwcm9wLnZhbHVlID8gcHJvcC52YWx1ZSA6ICcnKSk7CiAgICAgICAgICAgIHZhbHVlLnRleHQoKHByb3AudmFsdWUgPyBwcm9wLnZhbHVlIDogJycpKTsKCQkJdmFsdWUuYXR0cignZGF0YV90eXBlJywgcHJvcC50eXBlKTsKCQkJdmFsdWUuYXR0cignZGF0YV9pZCcsIHZpZXdJZCk7CgkJCXZhbHVlLmF0dHIoJ2RhdGFfbmFtZScsIHByb3AubmFtZSk7CgkJCWlmICggJC5pbkFycmF5KHByb3AudHlwZSwgZWRpdGFibGVBcnJheSkgPj0gMCApIHsKCQkJCXZhbHVlLmFkZENsYXNzKCdlZGl0b3Jfcm93X3ZhbHVlX2VkaXRhYmxlJyk7CiAgICAgICAgICAgICAgICAvL3ZhbHVlWzBdLmlubmVySFRNTCA9ICc8cCBjbGFzcz0iZWRpdCIgaWQ9ImFiYyI+ICcgKyB2YWx1ZVswXS5pbm5lckhUTUwgKyAnPC9wPicKCQkJfSBlbHNlIHsKCQkJCXZhbHVlLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7CgkJCX0KCQkJdmFyIHR5cGUgPSAkKCc8ZGl2IGNsYXNzPSJlZGl0b3Jfcm93X3R5cGUgc2VsZWN0YWJsZV90ZXh0Ij4nICsgcHJvcC50eXBlKyAnPC9kaXY+Jyk7CgkJCXJvd1BhcmVudC5hcHBlbmQobmFtZSk7CgkJCXJvd1BhcmVudC5hcHBlbmQodmFsdWUpOwoJCQlyb3dQYXJlbnQuYXBwZW5kKHR5cGUpOwoJCQlyZXR1cm4gcm93UGFyZW50OwoJCX0KCgkJdmFyIGJ1aWxkUHJvcEhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHsKCQkJcmV0dXJuICQoJzxkaXYgY2xhc3M9ImVkaXRvcl9yb3dfbGFiZWwiPicgKyBuYW1lICsgJzwvZGl2PicpOwoJCX0KCgkJdmFyIGJ1aWxkTm9Qcm9wUm93ID0gZnVuY3Rpb24oKSB7CgkJCXJldHVybiAkKCc8ZGl2IGNsYXNzPSJlZGl0b3Jfcm93X2VtcHR5Ij4obm8gcHJvcGVydGllcyk8L2Rpdj4nKTsKCQl9CgoJCXZhciBzaG93UHJvcHNGdW5jID0gZnVuY3Rpb24odmlld0lkLCBwcm9wcywgZWRpdGFibGVBcnJheSkgewoJCQlkb20uZW1wdHkoKTsKICAgICAgICAgICAgLy9kb20uYXBwZW5kKCAkKCc8cCBjbGFzcz0iZWRpdCIgaWQ9ImRpdl9wYXVsIj5Eb2xvcjwvcD4nKSk7CgkJCWZvciAodmFyIGkgPSAwIDsgaSA8IHByb3BzLmxlbmd0aCA7ICsraSApIHsKCQkJCXZhciBwcm9wID0gcHJvcHNbaV07CgkJCQlkb20uYXBwZW5kKGJ1aWxkUHJvcEhlYWRlcihwcm9wLm5hbWUpKTsKCQkJCXZhciBkYXRhUHJvcCA9IHByb3AucHJvcHM7CgkJCQlpZiAoIGRhdGFQcm9wLmxlbmd0aCA+IDAgKSB7CgkJCQkJZm9yICggdmFyIGogPSAwIDsgaiA8IGRhdGFQcm9wLmxlbmd0aDsgKytqICkgewoJCQkJCQlkb20uYXBwZW5kKGJ1aWxkUHJvcFJvdyh2aWV3SWQsIGRhdGFQcm9wW2pdLCBlZGl0YWJsZUFycmF5KSk7CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQlkb20uYXBwZW5kKGJ1aWxkTm9Qcm9wUm93KCkpOwoJCQkJfQoJCQl9CgkJCWRvbS5maW5kKCcuZWRpdG9yX3Jvd192YWx1ZV9lZGl0YWJsZScpLmtleWRvd24oZnVuY3Rpb24oZSkgewoJCQkJdmFyIHZpZXdJZCA9IHBhcnNlSW50KCQodGhpcykuYXR0cignZGF0YV9pZCcpKTsKCQkJCXZhciBwcm9wVHlwZSA9ICQodGhpcykuYXR0cignZGF0YV90eXBlJyk7CgkJCQl2YXIgbmV3VmFsdWUgPSAkKHRoaXMpLmF0dHIoJ3ZhbHVlJyk7CgkJCQl2YXIgcHJvcE5hbWUgPSAkKHRoaXMpLmF0dHIoJ2RhdGFfbmFtZScpOwoJCQkJaWYgKCBlLmtleUNvZGUgPT0gMTMgKSB7CgkJCQkJJC5nZXRKU09OKCcvdXBkYXRlP2lkPScgKyB2aWV3SWQgKyAnJnR5cGU9JyArIGVuY29kZVVSSUNvbXBvbmVudChwcm9wVHlwZSkgKyAnJnZhbHVlPScgKyBlbmNvZGVVUklDb21wb25lbnQobmV3VmFsdWUpICsgJyZuYW1lPScgKyBlbmNvZGVVUklDb21wb25lbnQocHJvcE5hbWUpLCBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZSk7CgkJCQkJCWlmICggcmVzcG9uc2UgJiYgcmVzcG9uc2UuZXJyb3IgICkgewoKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWlmICggby5vblZhbHVlQ2hhbmdlZCApIG8ub25WYWx1ZUNoYW5nZWQoKTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfQoJCQkJCgkJCX0pOwoJCX0KCgkJdmFyIHNob3dGdW5jID0gZnVuY3Rpb24oKSB7IGRvbS5zaG93KCk7IH0KCQl2YXIgaGlkZUZ1bmMgPSBmdW5jdGlvbigpIHsgZG9tLmhpZGUoKTsgfQoKCQlvLnBhcmVudERvbS5hcHBlbmQoZG9tKTsKICAgICAgICAKICAgICAgICBjb25zb2xlLmxvZygnaW5pdGlhbGl6aW5nJyk7CiAgICAgICAgJCgnLmVkaXQnKS5lZGl0YWJsZShmdW5jdGlvbih2YWx1ZSwgc2V0dGluZ3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZhbHVlJyArIHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNldHRpbmdzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJUZXh0ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4odmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSAgICA6ICd0ZXh0YXJlYScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXQgIDogJ09LJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKCQlyZXR1cm4gewoJCQlzaG93UHJvcHM6IHNob3dQcm9wc0Z1bmMsCgkJCXNob3c6IHNob3dGdW5jLAoJCQloaWRlOiBoaWRlRnVuYywKCQkJd3JhcHBlcjogZG9tCgkJfQoJfQo8L3NjcmlwdD4KPHNjcmlwdD4KCWZ1bmN0aW9uIENoZWNrYm94KG9wdGlvbnMpIHsKCQl2YXIgbyA9IG9wdGlvbnM7CgkJdmFyIGRvbSA9ICQoJzxkaXYgY2xhc3M9ImNoZWNrYm94Ij48L2Rpdj4nKTsKCQl2YXIgbWFya2VyID0gJCgnPGRpdiBjbGFzcz0iY2hlY2tib3hfbWFya2VyIj48L2Rpdj4nKTsKCQlkb20uYXBwZW5kKG1hcmtlcik7CgkJZG9tLmFwcGVuZChvLnRpdGxlKTsKICAgIGRvbS5oaWRlKCk7CgoJCXZhciB1cGRhdGVGdW5jID0gZnVuY3Rpb24oKSB7CgkJCWlmICggby5jaGVja2VkICkgewoJCQkJbWFya2VyLnRleHQoJ+KckycpOwoJCQl9IGVsc2UgewoJCQkJbWFya2VyLnRleHQoJycpOwoJCQl9CgkJfQoKCQl2YXIgY2hlY2tlZEZ1bmMgPSBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIG8uY2hlY2tlZDsKCQl9CgoJCWRvbS5jbGljayhmdW5jdGlvbigpIHsKCQkJby5jaGVja2VkID0gIW8uY2hlY2tlZDsKCQkJdXBkYXRlRnVuYygpOwoJCQlpZiAoIG8ub25DaGVja2VkQ2FsbGJhY2sgKSBvLm9uQ2hlY2tlZENhbGxiYWNrKG8uY2hlY2tlZCk7CgkJfSk7CgoJCXVwZGF0ZUZ1bmMoKTsKCQlvLnBhcmVudERvbS5hcHBlbmQoZG9tKTsKCiAgICB2YXIgc2hvd0Z1bmMgPSBmdW5jdGlvbigpIHsgZG9tLnNob3coKTsgfQogICAgdmFyIGhpZGVGdW5jID0gZnVuY3Rpb24oKSB7IGRvbS5oaWRlKCk7IH0KCgkJcmV0dXJuIHsKCQkJY2hlY2tlZDogY2hlY2tlZEZ1bmMsCiAgICAgIHNob3c6IHNob3dGdW5jLAoJCQloaWRlOiBoaWRlRnVuYwoJCX0KCX0KPC9zY3JpcHQ+CjxzY3JpcHQ+CglmdW5jdGlvbiBTcGxpdHRlcnMob3B0aW9ucykgewoJCXZhciBvID0gb3B0aW9uczsKCgkJdmFyIGxlZnREb20gPSAkKCc8ZGl2IGNsYXNzPSJzcGxpdHRlciI+PC9kaXY+Jyk7CgkJbGVmdERvbS5jc3MoJ2xlZnQnLCBvLmNlbnRlckNvbHVtbi5jc3MoJ2xlZnQnKSk7CgkJbGVmdERvbS5jc3MoJ21hcmdpbi1sZWZ0JywgJy03cHgnKTsKCgkJby5wYXJlbnREb20uYXBwZW5kKGxlZnREb20pOwoKCQlsZWZ0RG9tLm1vdXNlZG93bihmdW5jdGlvbihlKSB7CgkJCXZhciBsYXN0WCA9IGUucGFnZVg7CgoJCQl2YXIgaGFuZGxlTW92ZUZ1bmMgPSBmdW5jdGlvbihlZSkgewoJCQkJdmFyIGR4ID0gbGFzdFggLSBlZS5wYWdlWDsKCQkJCWxhc3RYID0gZWUucGFnZVg7CgkJCQl2YXIgbmV3V2lkdGggPSAocGFyc2VJbnQoby5sZWZ0Q29sdW1uLmNzcygnd2lkdGgnKSkgLSBkeCk7CgkJCQlpZiAoIG5ld1dpZHRoID4gNTAgKSB7CgkJCQkJbGVmdERvbS5jc3MoJ2xlZnQnLCAocGFyc2VJbnQobGVmdERvbS5jc3MoJ2xlZnQnKSkgLSBkeCkrJ3B4Jyk7CQkJCQoJCQkJCW8ubGVmdENvbHVtbi5jc3MoJ3dpZHRoJywgbmV3V2lkdGgrJ3B4Jyk7CgkJCQkJby5jZW50ZXJDb2x1bW4uY3NzKCdsZWZ0JywgKHBhcnNlSW50KG8uY2VudGVyQ29sdW1uLmNzcygnbGVmdCcpKSAtIGR4KSsncHgnKTsKCQkJCX0KCQkJfQoKCQkJdmFyIGhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbigpIHsKCQkJCSQod2luZG93KS51bmJpbmQoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTsKCQkJCSQod2luZG93KS51bmJpbmQoJ21vdXNlbW92ZScsIGhhbmRsZU1vdmVGdW5jKTsKCQkJfTsKCgkJCSQod2luZG93KS5iaW5kKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3ZlRnVuYyk7CgkJCSQod2luZG93KS5iaW5kKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7CgkJfSk7CgoJCXZhciByaWdodERvbSA9ICQoJzxkaXYgY2xhc3M9InNwbGl0dGVyIj48L2Rpdj4nKTsKCQlyaWdodERvbS5jc3MoJ3JpZ2h0Jywgby5jZW50ZXJDb2x1bW4uY3NzKCdyaWdodCcpKTsKCQlyaWdodERvbS5jc3MoJ21hcmdpbi1yaWdodCcsICctN3B4Jyk7CgoJCW8ucGFyZW50RG9tLmFwcGVuZChyaWdodERvbSk7CgoJCXJpZ2h0RG9tLm1vdXNlZG93bihmdW5jdGlvbihlKSB7CgkJCXZhciBsYXN0WCA9IGUucGFnZVg7CgoJCQl2YXIgaGFuZGxlTW92ZUZ1bmMgPSBmdW5jdGlvbihlZSkgewoJCQkJdmFyIGR4ID0gbGFzdFggLSBlZS5wYWdlWDsKCQkJCWxhc3RYID0gZWUucGFnZVg7CgkJCQl2YXIgbmV3V2lkdGggPSBwYXJzZUludChvLnJpZ2h0Q29sdW1uLmNzcygnd2lkdGgnKSkgKyBkeDsKCQkJCWlmICggbmV3V2lkdGggPiA1MCApIHsKCQkJCQlyaWdodERvbS5jc3MoJ3JpZ2h0JywgKHBhcnNlSW50KHJpZ2h0RG9tLmNzcygncmlnaHQnKSkgKyBkeCkrJ3B4Jyk7CgkJCQkJby5yaWdodENvbHVtbi5jc3MoJ3dpZHRoJywgbmV3V2lkdGgrJ3B4Jyk7CgkJCQkJby5jZW50ZXJDb2x1bW4uY3NzKCdyaWdodCcsIChwYXJzZUludChvLmNlbnRlckNvbHVtbi5jc3MoJ3JpZ2h0JykpICsgZHgpKydweCcpOwoJCQkJfQoJCQl9CgoJCQl2YXIgaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uKCkgewoJCQkJJCh3aW5kb3cpLnVuYmluZCgnbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApOwoJCQkJJCh3aW5kb3cpLnVuYmluZCgnbW91c2Vtb3ZlJywgaGFuZGxlTW92ZUZ1bmMpOwoJCQl9OwoKCQkJJCh3aW5kb3cpLmJpbmQoJ21vdXNlbW92ZScsIGhhbmRsZU1vdmVGdW5jKTsKCQkJJCh3aW5kb3cpLmJpbmQoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTsKCQl9KTsKCgkJcmV0dXJuIHt9OwoJfQo8L3NjcmlwdD4KPHNjcmlwdD4JCgoJdmFyIHZpZXdzRGF0YTsKCgl2YXIgcHJvcHNFZGl0b3IgPSBuZXcgUHJvcHNFZGl0b3IoeyBwYXJlbnREb206ICQoJ2JvZHknKSB9KTsKCiAgICB2YXIgZmluZFZpZXdCeUlkID0gZnVuY3Rpb24ocGFyZW50LCBpZCkgewogICAgCWlmICggcGFyZW50LmlkID09IGlkICkgcmV0dXJuIHBhcmVudDsKICAgIAlpZiAoIHBhcmVudC52aWV3cyApIHsKICAgIAkJZm9yICggdmFyIGkgPSAwIDsgaSA8IHBhcmVudC52aWV3cy5sZW5ndGggOyArK2kgKSB7CiAgICAJCQl2YXIgdmlldyA9IGZpbmRWaWV3QnlJZChwYXJlbnQudmlld3NbaV0sIGlkKTsKICAgIAkJCWlmICggdmlldyApIHJldHVybiB2aWV3OwogICAgCQl9CiAgICAJfQogICAgfQoKICAgIHZhciBmaW5kVmlldyA9IGZ1bmN0aW9uKHNuYXBzaG90LCBpZCkgewogICAgCWlmICggc25hcHNob3Qud2luZG93cyApIHsKICAgIAkJZm9yICggdmFyIGkgPSAwIDsgaSA8IHNuYXBzaG90LndpbmRvd3MubGVuZ3RoIDsgKytpICkgewogICAgCQkJdmFyIHZpZXcgPSBmaW5kVmlld0J5SWQoc25hcHNob3Qud2luZG93c1tpXSwgaWQpOwogICAgCQkJaWYgKCB2aWV3ICkgcmV0dXJuIHZpZXc7CiAgICAJCX0KICAgIAl9CiAgICB9CgogICAgdmFyIHZpZXdzVHJlZSA9IG5ldyBWaWV3c1RyZWUoeyBwYXJlbnREb206ICQoJ2JvZHknKSwKICAgIAlvbkhvdmVySW5DYWxsYmFjazogZnVuY3Rpb24odmlld0lkKSB7CiAgICAJCXByZXZpZXdTY3JlZW4uZm9jdXModmlld0lkKTsKICAgIAl9LAogICAgCW9uSG92ZXJPdXRDYWxsYmFjazogZnVuY3Rpb24odmlld0lkKSB7CiAgICAJCXByZXZpZXdTY3JlZW4uYmx1cih2aWV3SWQpOwogICAgCX0sCiAgICAJb25DbGlja0NhbGxiYWNrOiBmdW5jdGlvbih2aWV3SWQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2luIHZpZXdzVHJlZSBjbGlja0NhbGxiYWNrJyk7CiAgICAJCXZhciB2aWV3ID0gZmluZFZpZXcodmlld3NEYXRhLCB2aWV3SWQpOwogICAgCQlpZiAoIHZpZXcgKSBwcm9wc0VkaXRvci5zaG93UHJvcHModmlld0lkLCB2aWV3LnByb3BzLCB2aWV3c0RhdGEuZWRpdGFibGUpOwogICAgCX0KICAgIH0pOwoKICAgIHZhciBzY3JlZW5QYXJlbnQgPSAkKCc8ZGl2IGNsYXNzPSJzY3JlZW5fcGFyZW50Ij48L2Rpdj4nKTsKICAgICQoJ2JvZHknKS5hcHBlbmQoc2NyZWVuUGFyZW50KTsKICAgIAogICAgdmFyIHByZXZpZXdTY3JlZW4gPSBuZXcgU2NyZWVuKHsKICAgIAlwYXJlbnREb206IHNjcmVlblBhcmVudCwKICAgIAlmcmFtZV94OiAwLAogICAgCWZyYW1lX3k6IDAsCiAgICAJZnJhbWVfdzogNTAwLAogICAgCWZyYW1lX2g6IDUwMCwKICAgIAlvblNlbGVjdGVkOiBmdW5jdGlvbih2aWV3SWQpIHsKICAgIAkJY29uc29sZS5sb2codmlld0lkKTsKICAgIAkJdmFyIHZpZXcgPSBmaW5kVmlldyh2aWV3c0RhdGEsIHZpZXdJZCk7CiAgICAJCWlmICggdmlldyApIHsKICAgIAkJCXByb3BzRWRpdG9yLnNob3dQcm9wcyh2aWV3SWQsIHZpZXcucHJvcHMsIHZpZXdzRGF0YS5lZGl0YWJsZSk7CiAgICAJCQl2aWV3c1RyZWUuZXhwYW5kKHZpZXdJZCk7CiAgICAJCX0KICAgIAl9CiAgICB9KTsKCiAgICB2YXIgbmF2YmFyID0gbmV3IE5hdmJhcih7IHBhcmVudERvbTogJCgnYm9keScpIH0pOwoKICAgIHZhciBjaGVja2JveCA9IG5ldyBDaGVja2JveCh7IGNoZWNrZWQ6IGZhbHNlLAogICAgCXRpdGxlOiAnU2hvdyBkZWJ1ZyBmcmFtZXMnLAogICAgCXBhcmVudERvbTogbmF2YmFyLmRvbUVsZW1lbnQsIAogICAgCW9uQ2hlY2tlZENhbGxiYWNrOiBmdW5jdGlvbihjaGVja2VkKSB7CiAgICAJCWlmICggY2hlY2tlZCApIHsKICAgIAkJCXByZXZpZXdTY3JlZW4uc2hvd0RlYnVnRnJhbWVzKCk7CiAgICAJCX0gZWxzZSB7CiAgICAJCQlwcmV2aWV3U2NyZWVuLmhpZGVEZWJ1Z0ZyYW1lcygpOwogICAgCQl9CiAgICAJfQogICAgIH0pOwoKICAgIHZhciBzcGxpdHRlcnMgPSBuZXcgU3BsaXR0ZXJzKHsKICAgIAlsZWZ0Q29sdW1uOiB2aWV3c1RyZWUud3JhcHBlciwKICAgIAljZW50ZXJDb2x1bW46IHNjcmVlblBhcmVudCwKICAgIAlyaWdodENvbHVtbjogcHJvcHNFZGl0b3Iud3JhcHBlciwKICAgIAlwYXJlbnREb206ICQoJ2JvZHknKQogICAgfSk7CgogICAgbmF2YmFyLnNob3dMb2FkaW5nKCk7CiAgICBwcm9wc0VkaXRvci5oaWRlKCk7CiAgICB2aWV3c1RyZWUuaGlkZSgpOwogICAgcHJldmlld1NjcmVlbi5oaWRlKCk7CgogICAgJC5nZXRKU09OKCcvc25hcHNob3Q/bm9jYWNoZT0nICsgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSwgZnVuY3Rpb24obG9hZGVkRGF0YSkgewogICAgICAgIGlmICggbG9hZGVkRGF0YS5lcnJvciApIHsKICAgICAgICAgICAgbmF2YmFyLmhpZGVMb2FkaW5nKCk7CiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgY2xhc3M9ImVycm9yX2JveCI+JyArIGxvYWRlZERhdGEuZXJyb3IgKyAnPC9kaXYnKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIAkgIHZpZXdzRGF0YSA9IGxvYWRlZERhdGE7CiAgICAgICAgdmlld3NUcmVlLmZpbGwobG9hZGVkRGF0YS53aW5kb3dzKTsKICAgICAgICBwcmV2aWV3U2NyZWVuLnNpemUoeyBmcmFtZV94OiAwLCBmcmFtZV95OiAwLCBib3VuZHNfdzogbG9hZGVkRGF0YS5zY3JlZW5fdywgYm91bmRzX2g6IGxvYWRlZERhdGEuc2NyZWVuX2ggfSk7CiAgICAgICAgcHJldmlld1NjcmVlbi5jbGVhcigpOwogICAgICAgIHByZXZpZXdTY3JlZW4uZmlsbChsb2FkZWREYXRhLndpbmRvd3MpOwogICAgICAgIGlmICggbG9hZGVkRGF0YS53aW5kb3dzWzBdICkgcHJvcHNFZGl0b3Iuc2hvd1Byb3BzKGxvYWRlZERhdGEud2luZG93c1swXS5pZCwgbG9hZGVkRGF0YS53aW5kb3dzWzBdLnByb3BzLCBsb2FkZWREYXRhLmVkaXRhYmxlKTsKICAgICAgICBuYXZiYXIuaGlkZUxvYWRpbmcoKTsKICAgICAgICBuYXZiYXIudmVyc2lvbihsb2FkZWREYXRhLnZlcnNpb24pOwogICAgICAgIGNoZWNrYm94LnNob3coKTsKICAgCQkgIHByb3BzRWRpdG9yLnNob3coKTsKICAgIAkgIHZpZXdzVHJlZS5zaG93KCk7CiAgICAJICBwcmV2aWV3U2NyZWVuLnNob3coKTsKICAgIH0pOwo8L3NjcmlwdD4KPC9odG1sPg=="

#endif
